{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/etc/constants.ts","webpack:///./src/lib/error.ts","webpack:///./src/components/general/ExternalLink.tsx","webpack:///./src/contexts/StickersContext.tsx","webpack:///./src/lib/stickers.ts","webpack:///./src/components/App.tsx","webpack:///src/components/layout/AppLayout.tsx","webpack:///src/components/layout/Navbar.tsx","webpack:///./src/assets/favicon.png","webpack:///src/components/layout/SuspenseFallback.tsx","webpack:///./src/etc/colors.ts","webpack:///./src/lib/convert-image.ts","webpack:///./src/lib/search/index.ts","webpack:///./.linaria-cache/src/components/layout/Navbar.linaria.css","webpack:///./.linaria-cache/src/components/layout/SuspenseFallback.linaria.css","webpack:///./.linaria-cache/src/components/layout/AppLayout.linaria.css","webpack:///src/index.tsx","webpack:///./src/lib/search/constants.ts","webpack:///./src/lib/utils.ts","webpack:///./src/contexts/AppStateContext.tsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","3","exports","module","l","e","promises","Promise","resolve","reject","href","fullhref","p","existingLinkTags","document","getElementsByTagName","dataHref","tag","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onerror","onload","event","errorType","realHref","target","err","Error","code","request","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","src","jsonpScriptSrc","error","clearTimeout","chunk","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","BOOTSTRAP_BREAKPOINTS","xs","sm","md","lg","xl","SEARCH_QUERY_PARAM","SIGNAL_ART_URL_PATTERN","API_BASE_URL","API_URL_CONTRIBUTIONREQUEST","API_URL_CONTRIBUTE","API_URL_PACKS","API_URL_PACKS_PING","API_URL_STATUS","ErrorWithCode","constructor","super","this","errWithCode","stack","ExternalLink","React","memo","forwardRef","props","ref","R","children","displayName","Context","createContext","Provider","allStickerPacks","setAllStickerPacks","useState","searcher","setSearcher","searchQuery","setSearchQuery","searchResults","setSearchResults","useAsyncEffect","async","stickerPacks","getStickerPackDirectory","SearchFactory","collection","identity","keys","title","author","nsfw","original","animated","editorschoice","useEffect","search","stickerPack","item","stickerPackDirectoryPromise","stickerPackCache","Map","stickerImageCache","LocalForage","createInstance","storeName","axios","method","url","getStickerPack","id","cacheKey","has","directory","partial","finalKey","meta","unlisted","manifest","getStickerPackManifest","set","isAxiosError","response","status","getConvertedStickerInPack","stickerId","convertedImage","getItem","rawImageData","getStickerInPack","convertImage","setItem","isStorageUnavailableError","App","sendHomeBeacon","StrictMode","className","style","lineHeight","verticalAlign","minHeight","minWidth","hot","Home","Pack","Contribute","ContributionStatus","About","StyledContainer","AppLayout","useAppState","darkMode","percentage","useScrollPercentage","bodyEl","pThrottle","fallback","exact","path","StyledNav","NavbarComponent","setDarkMode","navLinks","external","toggleDarkMode","collapseNavigation","$","to","onClick","alt","data-toggle","data-target","aria-controls","aria-expanded","aria-label","navLink","activeClassName","Spinner","SuspenseFallbackComponent","showSpinner","setShowSpinner","timeoutHandle","role","DANGER_SATURATED","saturate","GRAY_DARKER","darken","GRAY_DARKER_2","GRAY_LIGHTER","lighten","PRIMARY_DARKER","PRIMARY_LIGHTER","DARK_THEME_BACKGROUND","converter","importWebpHero","Webp","WebpMachine","defaultDetectWebpImage","webp","Module","doNotCaptureKeyboard","webpSupport","detectWebpSupport","detectWebpImage","hasWebpSupportPromise","imageConversionQueue","pQueue","concurrency","getImageMimeType","typeInfo","imageType","mime","uInt8ToBase64","strData","byte","String","fromCharCode","btoa","mimeType","hasWebpSupport","add","pWaitFor","busy","decode","options","searchers","customGetFn","Array","isArray","valueType","parseQueryString","query","remainingQuery","attributeQueries","curPattern","match","groups","attribute","trim","replace","matchAll","UNQUOTED_EXPRESSION_PATTERN","QUOTED_EXPRESSION_PATTERN","queryString","results","attributeQuery","searcherForAttribute","resultsForAttribute","a","b","querySearcher","GENERAL_SEARCHER","queryResults","MAX_SCORE","processResults","Fuse","BASE_CONFIG","getFn","buildQueryString","queryObject","queryTerms","formattedQuery","split","printStorageUsage","ReactDOM","includeScore","ignoreLocation","minMatchCharLength","shouldSort","threshold","bp","bpName","minMax","bpValue","sendPackBeacon","packId","beaconData","Blob","navigator","sendBeacon","log","patterns","Boolean","initialState","state","dispatch","useReducer","action","localStorage","JSON","stringify","initialValue","parse"],"mappings":"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","file":"app-b8cdd690ef099e8240d1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t3: 0\n \t};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t3: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({\"0\":\"vendors~contribute~contributionstatus\",\"1\":\"vendors~webp-hero~webp-hero-machine\",\"2\":\"about\",\"4\":\"contribute\",\"5\":\"contributionstatus\",\"6\":\"detail\",\"7\":\"home\",\"9\":\"vendors~detail\",\"10\":\"vendors~home\",\"11\":\"webp-hero-machine\"}[chunkId]||chunkId) + \"-\" + {\"0\":\"0d13a1e7da17b294665c\",\"1\":\"507aa409883589dada34\",\"2\":\"51a3869aefc301316b98\",\"4\":\"74690f28352334dad7d6\",\"5\":\"248cb47dee91b9227fa6\",\"6\":\"f1995c7426b71d028c2f\",\"7\":\"96cc0a65bcd4ccecfce3\",\"9\":\"62ac456147efadf1eee4\",\"10\":\"3ef9943140fcd0236f11\",\"11\":\"ec83b751653b486643cb\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"4\":1,\"5\":1,\"6\":1,\"7\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"\" + ({\"0\":\"vendors~contribute~contributionstatus\",\"1\":\"vendors~webp-hero~webp-hero-machine\",\"2\":\"about\",\"4\":\"contribute\",\"5\":\"contributionstatus\",\"6\":\"detail\",\"7\":\"home\",\"9\":\"vendors~detail\",\"10\":\"vendors~home\",\"11\":\"webp-hero-machine\"}[chunkId]||chunkId) + \"-\" + {\"0\":\"31d6cfe0d16ae931b73c\",\"1\":\"31d6cfe0d16ae931b73c\",\"2\":\"31d6cfe0d16ae931b73c\",\"4\":\"6b4ace1c26ec572102e9\",\"5\":\"f82507f8c8ecced6686c\",\"6\":\"2e54261fa77492f3d288\",\"7\":\"47314d5f0dfcba2b0690\",\"9\":\"31d6cfe0d16ae931b73c\",\"10\":\"31d6cfe0d16ae931b73c\",\"11\":\"31d6cfe0d16ae931b73c\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tvar onLinkComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks.\n \t\t\t\t\tlinkTag.onerror = linkTag.onload = null;\n \t\t\t\t\tif (event.type === 'load') {\n \t\t\t\t\t\tresolve();\n \t\t\t\t\t} else {\n \t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n \t\t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n \t\t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\t\terr.type = errorType;\n \t\t\t\t\t\terr.request = realHref;\n \t\t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\t\treject(err);\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tdocument.head.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([276,8]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/**\n * Mapping of Bootstrap 4 breakpoint names to their minWidths.\n */\nexport const BOOTSTRAP_BREAKPOINTS = {\n  xs: 0,\n  sm: 576,\n  md: 768,\n  lg: 992,\n  xl: 1200\n};\n\n\n/**\n * Height of the navbar (px).\n */\nexport const NAVBAR_HEIGHT = 64;\n\n\n/**\n * Value of the query parameter used to track the current search query.\n */\nexport const SEARCH_QUERY_PARAM = 's';\n\n\n/**\n * Regular expression used to validate signal.art URLs for sticker packs, with\n * groups [_, pack_id, pack_key]\n */\nexport const SIGNAL_ART_URL_PATTERN = /^https:\\/\\/signal.art\\/addstickers\\/#pack_id=([\\dA-Za-z]{32})&pack_key=([\\dA-Za-z]{64})$/g;\n\n/**\n * API urls\n */\nconst API_BASE_URL = 'https://api.signalstickers.com/v1';\n\nconst API_URL_CONTRIBUTIONREQUEST = `${API_BASE_URL}/contributionrequest/`;\nconst API_URL_CONTRIBUTE = `${API_BASE_URL}/contribute/`;\nconst API_URL_PACKS = `${API_BASE_URL}/packs/`;\nconst API_URL_PACKS_PING = `${API_BASE_URL}/ping/`;\nconst API_URL_STATUS = `${API_BASE_URL}/packs/status/`;\n\nexport { API_BASE_URL, API_URL_PACKS, API_URL_PACKS_PING, API_URL_CONTRIBUTIONREQUEST, API_URL_CONTRIBUTE, API_URL_STATUS };\n","export default class ErrorWithCode extends Error {\n  code: string;\n\n\n  constructor(code: string | undefined, message: string) {\n    super(message);\n    this.code = code ?? 'UNKNOWN';\n  }\n\n\n  static from = (code: string, err: Error) => {\n    const errWithCode = new ErrorWithCode(code, err.message);\n    errWithCode.stack = err.stack;\n    return errWithCode;\n  };\n}\n","import React from 'react';\nimport * as R from 'ramda';\n\n\nexport type ExternalLinkProps = Omit<React.DetailedHTMLProps<React.AnchorHTMLAttributes<HTMLAnchorElement>, HTMLAnchorElement>, 'target' | 'rel'>;\n\n\n/**\n * Renders an anchor element with appropriate `target` and `rel` attributes\n * pre-applied for external links.\n */\nconst ExternalLink = React.memo(React.forwardRef((props: ExternalLinkProps, ref?: React.Ref<HTMLAnchorElement>) => (\n  <a\n    target=\"_blank\"\n    rel=\"noreferrer noopener\"\n    ref={ref}\n    // eslint-disable-next-line react/jsx-props-no-spreading\n    {...R.omit(['children', 'ref'], props)}\n  >\n    {props.children}\n  </a>\n)));\n\nExternalLink.displayName = 'ExternalLink';\n\n\nexport default ExternalLink;\n","import * as R from 'ramda';\nimport React, {createContext, PropsWithChildren} from 'react';\nimport useAsyncEffect from 'use-async-effect';\n\nimport {StickerPackPartial} from 'etc/types';\nimport {getStickerPackDirectory} from 'lib/stickers';\nimport SearchFactory, {SearchResults, Search} from 'lib/search';\n\n\n/**\n * Shape of the object provided by this Context.\n */\nexport interface StickersContext {\n  /**\n   * List of all sticker packs known to the application.\n   */\n  allStickerPacks: Array<StickerPackPartial> | undefined;\n\n  /**\n   * Searcher instance.\n   */\n  searcher?: Search<StickerPackPartial>;\n\n  /**\n   * Current search query. This is persisted here so that should the user return\n   * to the search page, their query and results will be preserved.\n   */\n  searchQuery: string;\n\n  /**\n   * Current result set based on the current value of search Query.\n   */\n  searchResults: SearchResults<StickerPackPartial>;\n\n  /**\n   * Allows a consumer to set the current search query, which will in turn\n   * update the current search results.\n   */\n  setSearchQuery: (needle: string) => void;\n}\n\n\nconst Context = createContext<StickersContext>({} as any);\n\n\nexport const Provider = (props: PropsWithChildren<Record<string, unknown>>) => {\n  const [allStickerPacks, setAllStickerPacks] = React.useState<StickersContext['allStickerPacks']>();\n  const [searcher, setSearcher] = React.useState<Search<StickerPackPartial>>();\n  const [searchQuery, setSearchQuery] = React.useState<StickersContext['searchQuery']>('');\n  const [searchResults, setSearchResults] = React.useState<StickersContext['searchResults']>([]);\n\n\n  /**\n   * [Effect] When the context mounts, set the list of sticker packs from\n   * partials.json and set-up the initial search results.\n   */\n  useAsyncEffect(async () => {\n    // Load the set of sticker packs we need from partials.json.\n    const stickerPacks = await getStickerPackDirectory();\n\n    // Set the canonical list of all sticker packs.\n    setAllStickerPacks(stickerPacks);\n\n    // Create a searcher using our collection of sticker pack partials.\n    setSearcher(SearchFactory({\n      collection: stickerPacks,\n      identity: R.path(['meta', 'id']),\n      keys: {\n        title: ['manifest', 'title'],\n        author: ['manifest', 'author'],\n        tag: ['meta', 'tags'],\n        nsfw: ['meta', 'nsfw'],\n        original: ['meta', 'original'],\n        animated: ['meta', 'animated'],\n        editorschoice: ['meta', 'editorschoice']\n      }\n    }));\n  }, []);\n\n\n  /**\n   * [Effect] Update `searchResults` when `searchQuery` changes. This effect\n   * will also set the default set of search results to `allStickerPacks` if\n   * there is no query.\n   */\n  React.useEffect(() => {\n    if (!allStickerPacks || !searcher) {\n      return;\n    }\n\n    // If there is currently no query, set the search results to the result of\n    // mapping the full list of sticker packs into a list with the same shape\n    // returned by the search function.\n    if (searchQuery.length === 0) {\n      setSearchResults(R.map(stickerPack => ({\n        item: stickerPack\n      }), allStickerPacks) as SearchResults<StickerPackPartial>);\n\n      return;\n    }\n\n    setSearchResults(searcher.search(searchQuery));\n  }, [\n    allStickerPacks,\n    searcher,\n    searchQuery\n  ]);\n\n\n  // ----- Render --------------------------------------------------------------\n\n  return (\n    <Context.Provider\n      value={{\n        allStickerPacks,\n        searcher,\n        searchQuery,\n        searchResults,\n        setSearchQuery\n      }}\n    >\n      {props.children}\n    </Context.Provider>\n  );\n};\n\n\nexport default Context;\n","// ===== Stickers Module =======================================================\n\n/**\n * This module contains several functions for loading, fetching, decrypting, and\n * caching stickers. Most notably, we fall back to a WebP-toPNG conversion when\n * on browsers that do not natively support WebP. It should be noted that this\n * process is time/CPU intensive and can cause have a significant performance\n * impact on the user's experience. Through queueing and max concurrency\n * settings, Safari seems to be able to handle this load without issue (albeit\n * far more slowly than Chrome).\n */\nimport {\n  getStickerPackManifest,\n  getStickerInPack,\n  getEmojiForSticker\n} from '@signalstickers/stickers-client';\nimport axios from 'axios';\nimport LocalForage from 'localforage';\nimport * as R from 'ramda';\nimport { API_URL_PACKS } from 'etc/constants';\n\nimport {\n  StickerPack,\n  StickerPackPartial,\n  StickerPackMetadata\n} from 'etc/types';\nimport { convertImage } from 'lib/convert-image';\nimport ErrorWithCode from 'lib/error';\nimport { isStorageUnavailableError } from 'lib/utils';\n\n\n// ----- Locals ----------------------------------------------------------------\n\n/**\n * Promise that will resolve with the list of sticker packs enumerated in\n * stickers.yaml. This collection will contain only those data from a\n * StickerPack that we want to search on or that we need to display a sticker\n * pack preview card. We use a promise here rather than the array itself to\n * ensure that if multiple calls to getStickerPackDirectory are made before the\n * initial request for partials.json resolves, we only make a single request\n * and only populate the directory once.\n */\nlet stickerPackDirectoryPromise: Promise<Array<StickerPackPartial>> | undefined;\n\n\n/**\n * In-memory cache of StickerPack objects.\n */\nconst stickerPackCache = new Map<string, StickerPack>();\n\n\n/**\n * Module-local browser-storage-backed cache used for sticker image data.\n */\nconst stickerImageCache = LocalForage.createInstance({\n  name: 'Signal Stickers',\n  storeName: 'Image Cache'\n});\n\n\n// ----- Functions -------------------------------------------------------------\n\n/**\n * Resolves with a list of StickerPackPartial objects.\n */\nexport async function getStickerPackDirectory(): Promise<Array<StickerPackPartial>> {\n  if (!stickerPackDirectoryPromise) {\n    stickerPackDirectoryPromise = axios.request<Array<StickerPackPartial>>({\n      method: 'GET',\n      url: API_URL_PACKS\n    }).then(R.prop('data'));\n  }\n\n  return stickerPackDirectoryPromise;\n}\n\n\n/**\n * Provided a sticker pack ID and optional key, queries the Signal API and\n * resolves with 'full' StickerPack object.\n */\nexport async function getStickerPack(id: string, key?: string): Promise<StickerPack> {\n  const cacheKey = key ? `${id}-${key}` : id;\n\n  try {\n    if (!stickerPackCache.has(cacheKey)) {\n      const directory = await getStickerPackDirectory();\n\n      // Build the metadata object using information from a StickerPackPartial\n      // in the directory or, if the requested sticker pack is unlisted, just\n      // the id and key.\n      const partial = R.find<StickerPackPartial>(R.pathEq(['meta', 'id'], id), directory);\n\n      // Use the key from the directory if possible. Otherwise, use the key\n      // provided by the caller.\n      const finalKey = partial?.meta.key ?? key;\n\n      if (!finalKey) {\n        throw new ErrorWithCode('NO_KEY_PROVIDED', `No key provided for unlisted pack: ${id}.`);\n      }\n\n      const meta: StickerPackMetadata = partial ? {\n        ...partial.meta,\n        unlisted: false\n      } : {\n        id,\n        key: finalKey,\n        unlisted: true\n      };\n\n      const manifest = await getStickerPackManifest(id, finalKey);\n\n      const stickerPack = {\n        meta,\n        manifest\n      } as StickerPack;\n\n      stickerPackCache.set(cacheKey, stickerPack);\n    }\n\n    return stickerPackCache.get(cacheKey) as StickerPack;\n  } catch (err) {\n    if (err.isAxiosError && err.response.status === 403) {\n      throw new ErrorWithCode('MANIFEST_DECRYPT', `[getStickerPack] ${err.stack}`);\n    }\n\n    throw new ErrorWithCode(err.code, `[getStickerPack] ${err.stack}`);\n  }\n}\n\n\n/**\n * Provided a sticker pack ID, pack key, and sticker ID, and queries the Signal\n * API and resolves with a base-64 encoded string containing either WebP or PNG\n * data (based on client support for the former) for the indicated sticker.\n */\nexport async function getConvertedStickerInPack(id: string, key: string, stickerId: number): Promise<string> {\n  let convertedImage = '';\n\n  try {\n    const cacheKey = `${id}-${stickerId}`;\n\n    const imageFromCache = await stickerImageCache.getItem<string | undefined>(cacheKey);\n\n    if (!imageFromCache) {\n      const rawImageData = await getStickerInPack(id, key, stickerId);\n      convertedImage = await convertImage(rawImageData);\n\n      // This line may throw when in private mode in certain browsers.\n      await stickerImageCache.setItem(cacheKey, convertedImage);\n\n      return convertedImage;\n    }\n\n    return await stickerImageCache.getItem(cacheKey) as string;\n  } catch (err) {\n    if (!isStorageUnavailableError(err)) {\n      throw new Error(`[getConvertedStickerInPack] Error getting sticker: ${err.message}`);\n    }\n  }\n\n  // This should only be reachable if we got a \"storage unavailable error\", in\n  // which case return the converted image.\n  return convertedImage;\n}\n\n\nexport {\n  getEmojiForSticker\n};\n","import { hot } from 'react-hot-loader/root';\nimport React from 'react';\nimport { IconContext } from 'react-icons';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { sendHomeBeacon } from 'lib/utils';\nimport AppLayout from 'components/layout/AppLayout';\nimport { Provider as StickersContextProvider } from 'contexts/StickersContext';\nimport { Provider as AppStateContextProvider } from 'contexts/AppStateContext';\n\n\nconst App: React.FunctionComponent = () => {\n  sendHomeBeacon();\n  return (\n    <React.StrictMode>\n      <IconContext.Provider\n        value={{\n          className: 'icon',\n          style: {\n            lineHeight: '1em',\n            verticalAlign: '-0.125em',\n            minHeight: '1em',\n            minWidth: '1em'\n          }\n        }}\n      >\n        <AppStateContextProvider>\n          <StickersContextProvider>\n            <Router>\n              <AppLayout />\n            </Router>\n          </StickersContextProvider>\n        </AppStateContextProvider>\n      </IconContext.Provider>\n    </React.StrictMode>\n  );\n};\n\n\nexport default hot(App);\n","import { css } from 'linaria';\nimport { styled } from 'linaria/react';\nimport pThrottle from 'p-throttle';\nimport { rgba } from 'polished';\nimport React, { Suspense } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { useScrollPercentage } from 'react-scroll-percentage';\nimport useAsyncEffect from 'use-async-effect';\n\nimport Navbar from 'components/layout/Navbar';\nimport SuspenseFallback from 'components/layout/SuspenseFallback';\nimport AppStateContext from 'contexts/AppStateContext';\nimport {\n  GRAY_DARKER_2,\n  GRAY_LIGHTER,\n  GRAY_DARKER,\n  PRIMARY_DARKER,\n  PRIMARY_LIGHTER,\n  DARK_THEME_BACKGROUND\n} from 'etc/colors';\n\n\n// Note: Each top-level route should be imported az a lazy-loaded component.\nconst Home = React.lazy(async () => import(\n  /* webpackChunkName: \"home\" */\n  'components/home/Home'\n));\n\nconst Pack = React.lazy(async () => import(\n  /* webpackChunkName: \"detail\" */\n  'components/pack/StickerPackDetail'\n));\n\nconst Contribute = React.lazy(async () => import(\n  /* webpackChunkName: \"contribute\" */\n  'components/contribute/Contribute'\n));\n\nconst ContributionStatus = React.lazy(async () => import(\n  /* webpackChunkName: \"contributionstatus\" */\n  'components/contributionstatus/ContributionStatus'\n));\n\nconst About = React.lazy(async () => import(\n  /* webpackChunkName: \"about\" */\n  'components/about/About'\n));\n\n\n// ----- Styles ----------------------------------------------------------------\n\n/**\n * Global styles that we need to define using JavaScript. Exported to appease\n * the linter.\n */\nexport const globals = css`\n  :global() {\n    & .theme-light {\n      & .form-control {\n        &:not(.is-invalid) {\n          border-color: rgba(0, 0, 0, 0.125);\n\n          &:focus {\n            box-shadow: 0 0 0 0.15rem ${rgba(GRAY_LIGHTER, 0.25)};\n          }\n        }\n      }\n    }\n\n    & .theme-dark {\n      & .btn-light {\n        background-color: var(--gray-dark);\n        border-color: ${GRAY_DARKER};\n        color: var(--light);\n\n        &:hover {\n          background-color: ${GRAY_DARKER_2};\n          color: var(--light);\n        }\n\n        &:active:focus {\n          background-color: ${GRAY_DARKER_2};\n          color: var(--light);\n        }\n      }\n\n      & .btn-primary,\n      & .btn-success {\n        color: var(--light);\n\n        &:hover {\n          color: var(--light);\n        }\n      }\n\n      & .btn-secondary {\n        background-color: var(--secondary);\n      }\n\n      & .card {\n        background-color: ${GRAY_DARKER_2};\n        border-color: ${GRAY_DARKER};\n        box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.15);\n      }\n\n      & .form-control {\n        background-color: ${GRAY_DARKER_2};\n        color: inherit;\n\n        &:not(.is-invalid) {\n          border-color: ${GRAY_DARKER};\n\n          &:focus {\n            border-color: ${GRAY_LIGHTER};\n            box-shadow: 0 0 0 0.15rem ${rgba(GRAY_LIGHTER, 0.25)};\n          }\n        }\n      }\n\n      & .modal-header,\n      & .modal-footer {\n        border-color: ${GRAY_DARKER};\n      }\n\n      /* !important is needed here because Bootstrap uses it as well. */\n      & .text-dark {\n        color: var(--light) !important;\n      }\n\n      & .text-muted {\n        color: ${GRAY_LIGHTER} !important;\n      }\n\n      & a,\n      & .btn.btn-link {\n        color: var(--primary);\n\n        &:hover {\n          color: ${PRIMARY_LIGHTER};\n        }\n      }\n\n      & hr {\n        border-color: ${GRAY_DARKER};\n      }\n\n      & pre {\n        color: var(--light);\n      }\n    }\n  }\n`;\n\n\nconst StyledContainer = styled.div`\n  display: flex;\n  flex-grow: 1;\n\n  .theme-light & {\n    background-color: var(--white);\n    color: var(--dark);\n  }\n\n  .theme-dark & {\n    background-color: ${DARK_THEME_BACKGROUND};\n    color: var(--light);\n  }\n`;\n\n\n// ----- Component -------------------------------------------------------------\n\nconst AppLayout: React.FunctionComponent = () => {\n  const useAppState = React.useContext(AppStateContext);\n  const [darkMode] = useAppState<boolean>('darkMode');\n  const [ref, percentage] = useScrollPercentage();\n\n\n  /**\n   * [Effect]\n   *\n   * Apply classes to <body> to indicate the current theme. We do this here\n   * (even though we are a child of <body>) because this is the highest level\n   * React component in our tree that renders actual HTML.\n   */\n  React.useEffect(() => {\n    const bodyEl = document.querySelector('body');\n\n    if (!bodyEl) {\n      return;\n    }\n\n    if (darkMode) {\n      bodyEl.classList.add('theme-dark');\n      bodyEl.classList.remove('theme-light');\n    } else {\n      bodyEl.classList.add('theme-light');\n      bodyEl.classList.remove('theme-dark');\n    }\n  }, [darkMode]);\n\n\n  /**\n   * [Effect]\n   *\n   * Ensures that the background color shown during over-scroll matches adjacent\n   * content. Unfortunately the only way this can be reliably done at the moment\n   * is by changing the body's background color. To minimize performance impact,\n   * we run this function asynchronously and throttle calls to a maximum of 10\n   * times per second.\n   */\n  useAsyncEffect(pThrottle(() => {\n    const bodyEl = document.querySelector('body');\n\n    if (!bodyEl) {\n      return;\n    }\n\n    if (darkMode) {\n      bodyEl.style.backgroundColor = percentage < 0.5 ? PRIMARY_DARKER : 'var(--dark)';\n    } else {\n      bodyEl.style.backgroundColor = percentage < 0.5 ? 'var(--primary)' : 'var(--white)';\n    }\n  }, 10, 1000), [percentage, darkMode]);\n\n\n  return (<>\n    <Navbar />\n    <StyledContainer ref={ref}>\n      <div className=\"container d-flex flex-column flex-grow-1\">\n        <Suspense fallback={<SuspenseFallback />}>\n          <Switch>\n            <Route exact path=\"/\">\n              <Home />\n            </Route>\n            <Route path=\"/pack/:packId\">\n              <Pack />\n            </Route>\n            <Route path=\"/contribute\">\n              <Contribute />\n            </Route>\n            <Route path=\"/contribution-status\">\n              <ContributionStatus />\n            </Route>\n            <Route path=\"/about\">\n              <About />\n            </Route>\n          </Switch>\n        </Suspense>\n      </div>\n    </StyledContainer>\n  </>);\n};\n\n\nexport default AppLayout;\n","import {styled} from 'linaria/react';\nimport {darken} from 'polished';\nimport React from 'react';\nimport {BsBoxArrowUpRight, BsList} from 'react-icons/bs';\nimport {FaGithub, FaTwitter} from 'react-icons/fa';\nimport {FiSun, FiMoon} from 'react-icons/fi';\nimport {Link, NavLink} from 'react-router-dom';\n\nimport signalStickersLogoUrl from 'assets/favicon.png';\nimport ExternalLink from 'components/general/ExternalLink';\nimport AppStateContext from 'contexts/AppStateContext';\nimport {PRIMARY_DARKER} from 'etc/colors';\nimport {NAVBAR_HEIGHT} from 'etc/constants';\nimport {bp} from 'lib/utils';\n\n\n// ----- Types -----------------------------------------------------------------\n\ninterface NavLinkDescriptor {\n  title: string;\n  href: string;\n  external?: boolean;\n  children?: JSX.Element;\n}\n\n\n// ----- Styles ----------------------------------------------------------------\n\nconst StyledNav = styled.nav`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  overflow: hidden;\n  padding-bottom: 6px;\n  padding-top: 6px;\n\n  /*\n   * N.B. Navbar height will need to increase when the navigation menu is\n   * expanded on mobile.\n   */\n  min-height: ${NAVBAR_HEIGHT}px;\n\n  @media ${bp('md')} {\n    max-height: ${NAVBAR_HEIGHT}px;\n  }\n\n  /**\n   * We need to fight with Bootstrap's specificity a little here, hence the\n   * verbose selector.\n   */\n  &.navbar-dark .navbar-nav .nav-link {\n    color: ${darken(0.07, 'white')};\n    transition: color 0.15s ease;\n    letter-spacing: 0.05em;\n\n    &.active {\n      color: white;\n    }\n\n    & svg {\n      fill: ${darken(0.1, 'white')};\n      transition: fill 0.15s ease;\n    }\n\n    &:hover {\n      color: white;\n\n      & svg {\n        fill: white;\n      }\n    }\n  }\n\n  /* Creates a border between the navbar and menu items when open (on mobile). */\n  & .container::before {\n    content: '';\n    display: block;\n    position: absolute;\n    width: 200vw;\n    left: -100vw;\n    top: ${NAVBAR_HEIGHT + 1}px;\n    height: 1px;\n    background-color: rgba(255, 255, 255, 0.33);\n  }\n\n  & .navbar-brand {\n    font-size: 24px;\n    color: white;\n    letter-spacing: 0.02em;\n    padding: 7px 0;\n\n    &:hover {\n      color: white;\n      text-decoration: none;\n    }\n\n    & img {\n      bottom: 2px;\n      height: 1.5em;\n      margin-right: 8px;\n      position: relative;\n      width: auto;\n    }\n  }\n\n  & .navbar-toggler {\n    border: none;\n    font-size: 26px;\n    padding-right: 12px;\n\n    &:focus {\n      outline: none;\n    }\n  }\n\n  & .navbar-nav {\n    @media ${bp('md', 'max')} {\n      padding-top: 10px;\n      padding-bottom: 4px;\n    }\n  }\n\n  & .menu-icon {\n    fill: ${darken(0.1, 'white')};\n    transform: scale(1.2) translateY(1px);\n  }\n\n  .theme-light & {\n    background-color: var(--primary);\n  }\n\n  .theme-dark & {\n    background-color: ${PRIMARY_DARKER};\n\n    & .navbar-brand img {\n      filter: brightness(0.75);\n    }\n  }\n`;\n\n\n// ----- Component -------------------------------------------------------------\n\nconst NavbarComponent: React.FunctionComponent = () => {\n  const useAppState = React.useContext(AppStateContext);\n  const [darkMode, setDarkMode] = useAppState<boolean>('darkMode');\n\n  const NAVBAR_TOGGLE_ID = 'navbar-toggle';\n\n  const navLinks: Array<NavLinkDescriptor> = [{\n    title: 'Contribute',\n    href: '/contribute'\n  }, {\n    title: 'About',\n    href: '/about'\n  }, {\n    title: 'Twitter',\n    href: 'https://twitter.com/signalstickers',\n    external: true,\n    children: <>\n      <span className=\"d-md-none\">\n        Twitter <BsBoxArrowUpRight />\n      </span>\n      <FaTwitter className=\"d-none d-md-inline\" />\n    </>\n  }, {\n    title: 'GitHub Repository',\n    href: 'https://github.com/signalstickers/signalstickers',\n    external: true,\n    children: <>\n      <span className=\"d-md-none\">\n        GitHub <BsBoxArrowUpRight />\n      </span>\n      <FaGithub className=\"d-none d-md-inline\" />\n    </>\n  }];\n\n\n  /**\n   * Toggles dark mode.\n   */\n  const toggleDarkMode = React.useCallback(() => {\n    setDarkMode(!darkMode);\n  }, [darkMode]);\n\n\n  /**\n   * Closes the navigation menu (on small devices) upon navigation.\n   */\n  const collapseNavigation = React.useCallback(() => {\n    $(`#${NAVBAR_TOGGLE_ID}`).collapse('hide');\n  }, []);\n\n\n  return (\n    <StyledNav className=\"navbar navbar-expand-md navbar-dark\">\n      <div className=\"container\">\n        <Link to=\"/\" className=\"navbar-brand\" onClick={collapseNavigation}>\n          <img src={signalStickersLogoUrl} alt=\"Signal Stickers Logo\" /> Signal Stickers\n        </Link>\n        <button\n          type=\"button\"\n          className=\"navbar-toggler\"\n          data-toggle=\"collapse\"\n          data-target={`#${NAVBAR_TOGGLE_ID}`}\n          aria-controls={NAVBAR_TOGGLE_ID}\n          aria-expanded=\"false\"\n          aria-label=\"Toggle Navigation\"\n        >\n          <BsList className=\"menu-icon\" />\n        </button>\n        <div id={NAVBAR_TOGGLE_ID} className=\"collapse navbar-collapse\">\n          <ul className=\"navbar-nav ml-auto mt-2 mt-md-0 pb-xs-0\">\n            {navLinks.map(navLink => (\n              <li className=\"nav-item\" key={navLink.href}>\n                {navLink.external ?\n                  <ExternalLink\n                    href={navLink.href}\n                    title={navLink.title}\n                    className=\"nav-link py-3 py-md-2\"\n                  >\n                    {navLink.children ?? navLink.title}\n                  </ExternalLink> :\n                  <NavLink\n                    to={navLink.href}\n                    title={navLink.title}\n                    className=\"nav-link py-3 py-md-2\"\n                    activeClassName=\"active\"\n                    onClick={collapseNavigation}\n                  >\n                    {navLink.children ?? navLink.title}\n                  </NavLink>\n                }\n              </li>\n            ))}\n            <li className=\"nav-item\">\n              <button\n                type=\"button\"\n                className=\"btn btn-link nav-link py-3 py-md-2\"\n                title=\"Dark Mode\"\n                onClick={toggleDarkMode}\n              >\n                {darkMode ?\n                  <>\n                    <span className=\"d-inline-block d-md-none mr-1\">\n                      Light mode\n                    </span>\n                    <FiSun />\n                  </>\n                  :\n                  <>\n                    <span className=\"d-inline-block d-md-none mr-1\">\n                      Dark mode\n                    </span>\n                    <FiMoon />\n                  </>}\n              </button>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </StyledNav>\n  );\n};\n\n\nexport default NavbarComponent;\n","export default __webpack_public_path__ + \"assets/favicon.8bc43364230544affdf79ddb012d2d71.png\";","import React, {useEffect, useState} from 'react';\nimport {styled} from 'linaria/react';\n\n\nconst Spinner = styled.div`\n  border-width: 2px;\n  color: rgba(0, 0, 0, 0.5);\n`;\n\n\nconst SuspenseFallbackComponent: React.FunctionComponent = () => {\n  const [showSpinner, setShowSpinner] = useState(false);\n\n  /**\n   * Time in milliseconds to wait after the component mounts before showing the\n   * loading spinner. Hiding the spinner on faster page transitions can improve\n   * perceived performance.\n   */\n  const SPINNER_DELAY = 2000;\n\n  useEffect(() => {\n    const timeoutHandle = setTimeout(() => {\n      setShowSpinner(true);\n    }, SPINNER_DELAY);\n\n    return () => {\n      clearTimeout(timeoutHandle);\n    };\n  }, []);\n\n  return (\n    <div className=\"d-flex align-items-center justify-content-center flex-grow-1\">\n      {showSpinner && <Spinner className=\"spinner-border\" role=\"status\">\n        <span className=\"sr-only\">Loading...</span>\n      </Spinner>}\n    </div>\n  );\n};\n\n\nexport default SuspenseFallbackComponent;\n","import {darken, lighten, saturate} from 'polished';\n\n\n/**\n * Saturated version of Bootstrap's --danger color.\n */\nexport const DANGER_SATURATED = saturate(0.2, '#DC3545');\n\n\n/**\n * Darker version of Bootstrap's --gray color.\n */\nexport const GRAY_DARKER = darken(0.1, '#6C757D');\n\n\n/**\n * (Even) darker version of Bootstrap's --gray color.\n */\nexport const GRAY_DARKER_2 = darken(0.255, '#6C757D');\n\n\n/**\n * Lighter version of Bootstrap's --gray color.\n */\nexport const GRAY_LIGHTER = lighten(0.18, '#6C757D');\n\n\n/**\n * Darker version of Bootstrap's --primary color.\n */\nexport const PRIMARY_DARKER = darken(0.15, '#007BFF');\n\n\n/**\n * Lighter version of Bootstrap's --primary color.\n */\nexport const PRIMARY_LIGHTER = lighten(0.2, '#007BFF');\n\n\n/**\n * Darker version of Bootstrap's --gray-dark color.\n *\n * Used as the background color for primary content containers in dark mode.\n */\nexport const DARK_THEME_BACKGROUND = darken(0.01, '#343A40');\n","/**\n * ===== Image Converter =======================================================\n *\n * This module is responsible for converting WebP images to PNG images on\n * browsers that do not support WebP. Because we will be getting multiple\n * simultaneous calls to this function when the site loads, we use an\n * asynchronous task queue to limit concurrency of image conversion jobs.\n */\nimport imageType from 'image-type';\nimport pQueue from 'p-queue';\nimport pWaitFor from 'p-wait-for';\nimport {detectWebpSupport} from 'webp-hero/dist/detect-webp-support';\nimport type { WebpMachine } from 'webp-hero/dist/webp-machine';\n\n\n/**\n * Caches our WebP converter instance so we only import/instantiate it once.\n */\nlet converter: Promise<WebpMachine> | undefined;\n\n\n/**\n * Dynamically imports web-hero, creates a converter instance, and returns a\n * Promise that resolves with the instance. This allows us to load this module\n * (which is rather large) only when we need to use it, and also ensures we only\n * import/instantiate it once.\n */\nasync function importWebpHero() {\n  if (!converter) {\n    // eslint-disable-next-line @typescript-eslint/no-misused-promises\n    converter = new Promise(async resolve => {\n      const modules = await Promise.all([\n        import(\n          /* webpackChunkName: \"webp-hero\" */\n          'webp-hero/libwebp/dist/webp.js'\n        ),\n        import(\n          /* webpackChunkName: \"webp-hero-machine\" */\n          'webp-hero/dist/webp-machine'\n        )\n      ]);\n\n      const {Webp} = modules[0];\n      const {WebpMachine, defaultDetectWebpImage} = modules[1];\n\n      // One of Webp Hero's dependencies seems to block user input when a\n      // conversion is run. This fix can be found here:\n      // See: https://github.com/chase-moskal/webp-hero/issues/18#issuecomment-560188272\n      const webp = new Webp();\n      webp.Module.doNotCaptureKeyboard = true;\n\n      resolve(new WebpMachine({\n        webp,\n        webpSupport: detectWebpSupport(),\n        detectWebpImage: defaultDetectWebpImage\n      }));\n    });\n  }\n\n  return converter;\n}\n\n\n// ----- Locals ----------------------------------------------------------------\n\n/**\n * Ensures we check for WebP support only once.\n */\nconst hasWebpSupportPromise = detectWebpSupport();\n\n/**\n * Module-local asynchronous queue facility that will allow us to limit the\n * number of concurrent image conversion operations.\n */\nconst imageConversionQueue = new pQueue({concurrency: 1});\n\n\n// ----- Functions -------------------------------------------------------------\n\n/**\n * Provided a UInt8Array or Buffer containing image data, returns the image's\n * MIME type.\n */\nfunction getImageMimeType(rawImageData: Uint8Array | Buffer): string {\n  const typeInfo = imageType(rawImageData);\n\n  if (!typeInfo) {\n    throw new Error('[getImageMimeType] Unable to determine MIME type of image.');\n  }\n\n  return typeInfo.mime;\n}\n\n\n/**\n * Converts a Uint8Array to a base-64 encoded string.\n */\nfunction uInt8ToBase64(data: Uint8Array): string {\n  let strData = '';\n\n  for (const byte of data) {\n    strData += String.fromCharCode(byte);\n  }\n\n  return btoa(strData);\n}\n\n\n/**\n * If the browser has WebP support, the image data is converted into a base-64\n * encoded string and returned. Otherwise, the image is converted to PNG using\n * webp-hero and returned as a base-64 encoded string. Both variants are\n * suitable for using in the \"src\" attribute of an img tag.\n */\nexport async function convertImage(rawImageData: Uint8Array) {\n  const mimeType = getImageMimeType(rawImageData);\n  const hasWebpSupport = await hasWebpSupportPromise;\n\n  // If the image is WebP and the browser lacks support for WebP, convert the\n  // image to PNG. This will take a noticeable amount of time/memory on the\n  // user's machine, but is the only way we can display these images at this\n  // time.\n  if (mimeType === 'image/webp' && !hasWebpSupport) {\n    return imageConversionQueue.add(async () => {\n      try {\n        const converter = await importWebpHero();\n        // @ts-expect-error (`busy` is not an exposed member of WebpMachine.)\n        await pWaitFor(() => converter.busy === false);\n        return await converter.decode(rawImageData);\n      } catch (err) {\n        console.error(`[convertImage] Image conversion failed: ${err.message}`);\n        throw err;\n      }\n    });\n  }\n\n  return `data:${mimeType};base64,${uInt8ToBase64(rawImageData)}`;\n}\n","/**\n * ===== Search ================================================================\n *\n * This module provides a fuzzy searching facility that supports broad as well\n * as targeted queries. It must be configured with a collection of\n * uniformly-shaped objects. These objects should contain at least 1 key that\n * may be used to uniquely identify them.\n *\n * Query Grammar\n * -------------\n *\n * A simple query will perform a fuzzy search on all configured attributes in a\n * collection. Users may also perform a query on a specific attribute using the\n * following grammar:\n *\n * '<attribute>:<query>'\n *\n * If `query` contains whitespace, the <query> portion may be wrapped in double\n * quotation marks:\n *\n * '<attribute>:\"<query>\"'\n *\n * Queries may include any combination of attribute selectors as well as general\n * search terms:\n *\n * '<term> <term> <attribute>:<query> <attribute>:\"<query>\" <term>'\n *\n * -----------------------------------------------------------------------------\n *\n * See: https://fusejs.io/\n */\nimport Fuse from 'fuse.js';\nimport * as R from 'ramda';\n\nimport {\n  BASE_CONFIG,\n  GENERAL_SEARCHER,\n  MAX_SCORE,\n  QUOTED_EXPRESSION_PATTERN,\n  UNQUOTED_EXPRESSION_PATTERN\n} from './constants';\nimport {\n  AttributeQuery,\n  ParsedQuery\n} from './types';\n\n\n/**\n * Utility type that, provided the member type of a collection, represents a\n * collection of search results.\n */\nexport type SearchResults<T> = Array<Fuse.FuseResult<T>>;\n\n\n/**\n * Options object accepted by SearchFactory.\n */\nexport interface SearchFactoryOptions<T> {\n  /**\n   * Collection to search on. Each item in the collection should be of the same\n   * type.\n   */\n  collection: Array<T>;\n\n  /**\n   * Function that will be invoked when checking whether two items should be\n   * considered equal. The function will be passed an item from the collection\n   * and should return a primitive value used for comparison (ex: ID).\n   */\n  identity: (item: T) => string | number | boolean | undefined;\n\n  /**\n   * Mapping of attribute shorthand terms (used in search queries) to arrays\n   * representing paths where that attribute can be found in each item in the\n   * collection. Single mappings are used for attribute queries, and all\n   * attributes are included when performing general queries.\n   *\n   * See: https://fusejs.io/examples.html#nested-search\n   */\n  keys: {\n    [key: string]: Fuse.FuseOptionKey;\n  };\n}\n\n\n/**\n * Object returned by SearchFactory.\n */\nexport interface Search<T> {\n  /**\n   * Provided a query string, performs a search on `collection` and returns a\n   * result set.\n   */\n  search: (queryString: string) => SearchResults<T>;\n\n  /**\n   * Provided a query string, returns a query object.\n   *\n   * @example\n   *\n   * searcher.parseQueryString(`tag:cute doge amaze`) //=> {\n   *   query: 'doge amaze',\n   *   attributeQueries: [\n   *     {tag: 'cute'}\n   *   ]\n   * }\n   */\n  parseQueryString: (query: string) => ParsedQuery;\n\n  /**\n   * Provided a query object, returns a query string.\n   *\n   * @example\n   *\n   * searcher.buildQueryString({\n   *   query: 'elephant',\n   *   attributeQueries: [\n   *     {tag: 'animal'},\n   *     {tag: 'for children'}\n   *   ]\n   * }) //=> 'elephant tag:animal tag:\"for children\"'\n   */\n  buildQueryString: (queryObject: ParsedQuery) => string;\n}\n\n\n/**\n * Provided a SearchFactoryOptions object, returns a Search object.\n */\nexport default function SearchFactory<T>(options: SearchFactoryOptions<T>): Search<T> {\n\n  // ----- Private Members -----------------------------------------------------\n\n  /**\n   * @private\n   *\n   * Keep a cache of Fuse instances for each attribute that we search on. This\n   * prevents unnecessary re-indexing.\n   */\n  const searchers = new Map<string | number | symbol, Fuse<T>>();\n\n\n  // ----- Private Methods -----------------------------------------------------\n\n  /**\n   * @private\n   *\n   * Custom Fuse.js \"getter\" function that will be invoked when traversing paths\n   * in collection members. The function is responsible for returning the value\n   * at the indicated path which, per Fuse requirements, must be a string or an\n   * array of strings. By using a custom function, we can type-cast non-string\n   * values to strings for the purposes of matching search results. This will\n   * allow the user to use attribute queries such as 'original:true' or\n   * 'nsfw:false'.\n   */\n  const customGetFn = (item: T, path: string | Array<string>) => {\n    const value = R.path(Array.isArray(path) ? path : R.split('.', path), item);\n    const valueType = R.type(value);\n\n    switch (valueType) {\n      case 'String':\n        return String(value);\n      case 'Array':\n        return value as Array<string>;\n      // Cast booleans and numbers using the String constructor, yielding\n      // results like 'true', 'false'.\n      case 'Boolean':\n      case 'Number':\n        return String(value);\n      // For bottom values, return 'false'. This allows queries on attributes\n      // where the absence of that attribute implies `false`, such as 'nsfw' and\n      // 'original'.\n      case 'Null':\n      case 'Undefined':\n        return 'false';\n      default:\n        throw new Error(`[Search::getFn] Unable to parse value of type \"${valueType}\" at path \"${String(path)}\".`);\n    }\n  };\n\n\n  /**\n   * @private\n   *\n   * Provided a string, returns the number of words therein.\n   */\n  const wordCount = (input: string): number => input.split(/\\s+/g).length;\n\n\n  /**\n   * @private\n   *\n   * Filters and de-dupes search results that are collected from multiple Fuse\n   * instances.\n   */\n  const processResults = (results: SearchResults<T>): SearchResults<T> => {\n    return R.compose(\n      // Filter-out results with a score above MAX_SCORE.\n      R.filter(R.compose(R.gte(MAX_SCORE), R.propOr(undefined, 'score'))),\n      // De-dupe results by calling the configured identity callback.\n      R.uniqBy<Fuse.FuseResult<T>, any>(result => options.identity(result.item))\n    )(results);\n  };\n\n\n  /**\n   * @private\n   *\n   * Create Fuse instances for each configured attribute as well as a general\n   * instance that searches across all configured attributes.\n   */\n  const createFuseInstances = (collection: Array<T>) => {\n    R.forEach(([attribute, path]) => {\n      searchers.set(attribute, new Fuse(collection, {\n        ...BASE_CONFIG,\n        getFn: customGetFn,\n        keys: [path]\n      }));\n    }, R.toPairs(options.keys ?? []));\n\n    searchers.set(GENERAL_SEARCHER, new Fuse(collection, {\n      ...BASE_CONFIG,\n      getFn: customGetFn,\n      keys: R.values(options.keys)\n    }));\n  };\n\n\n  // ----- Public Methods ------------------------------------------------------\n\n  const parseQueryString = (query: string): ParsedQuery => {\n    let remainingQuery = query;\n    const attributeQueries: Array<AttributeQuery> = [];\n\n    R.forEach(curPattern => {\n      if (remainingQuery.length === 0) {\n        return;\n      }\n\n      R.forEach(match => {\n        if (!match.groups) {\n          return;\n        }\n\n        const attribute = match.groups.attribute.trim();\n        const query = match.groups.query.trim();\n\n        // Determine if the provided attribute is valid by checking if we have\n        // a dedicated searcher for it.\n        const isValidAttribute = searchers.has(attribute);\n\n        // If 'attribute' matched from the query string does not match a\n        // configured attribute, leave the entire term in the query string,\n        // allowing it to be used as a general search term.\n        if (!isValidAttribute) {\n          return;\n        }\n\n        // Remove the matched term from the query string.\n        remainingQuery = remainingQuery.replace(match[0], '').trim();\n\n        attributeQueries.push({[attribute]: query});\n      }, [...remainingQuery.matchAll(curPattern)]);\n    }, [\n      UNQUOTED_EXPRESSION_PATTERN,\n      QUOTED_EXPRESSION_PATTERN\n    ]);\n\n    return {\n      query: remainingQuery.trim(),\n      attributeQueries\n    };\n  };\n\n\n  const buildQueryString = (queryObject: ParsedQuery): string => {\n    const queryTerms: Array<string> = [];\n\n    R.forEach(R.forEachObjIndexed((query, attribute) => {\n      const isValidAttribute = searchers.has(attribute);\n\n      if (!isValidAttribute) {\n        throw new Error(`[Search::buildQueryString] Unknown attribute: \"${attribute}\".`);\n      }\n\n      const formattedQuery = wordCount(query) > 1 ? `\"${query}\"` : query;\n      queryTerms.push(`${attribute}:${formattedQuery}`);\n    }), queryObject.attributeQueries ?? []);\n\n    return R.join(' ', R.prepend(queryObject.query, queryTerms)).trim();\n  };\n\n\n  const search = R.memoizeWith(R.identity, (queryString: string) => {\n    let results: SearchResults<T> = [];\n    const {query, attributeQueries} = parseQueryString(queryString);\n\n    // Perform an attribute search for each attribute query.\n    R.forEach(R.forEachObjIndexed((attributeQuery, attribute) => {\n      if (!attributeQuery) {\n        return;\n      }\n\n      const searcherForAttribute = searchers.get(attribute);\n\n      if (!searcherForAttribute) {\n        return;\n      }\n\n      const resultsForAttribute = searcherForAttribute.search(attributeQuery);\n\n      if (results.length === 0) {\n        // If this is the first query that produced results, set results array\n        // directly.\n        results = resultsForAttribute;\n      } else {\n        // Otherwise, only add those results from this attribute search that are\n        // _also_ in the existing result set. This effectively gives us a\n        // logical \"and\" when handling multiple attribute queries.\n        results = R.innerJoin((a, b) => {\n          return options.identity(a.item) === options.identity(b.item);\n        }, results, resultsForAttribute);\n      }\n    }), attributeQueries ?? []);\n\n    // Then, perform a search with the remaining portion of the query using the\n    // general purpose Fuse instance.\n    if (query) {\n      const querySearcher = searchers.get(GENERAL_SEARCHER);\n\n      if (querySearcher) {\n        const queryResults = querySearcher.search(query);\n\n        if (results.length === 0) {\n          results = queryResults;\n        } else {\n          results = R.innerJoin((a, b) => {\n            return options.identity(a.item) === options.identity(b.item);\n          }, results, queryResults);\n        }\n      } else {\n        throw new Error('[Search] Unable to find the generic searcher.');\n      }\n    }\n\n    return processResults(results);\n  });\n\n\n  // ----- Initialization ------------------------------------------------------\n\n  createFuseInstances(options.collection);\n\n\n  return {\n    search,\n    parseQueryString,\n    buildQueryString\n  };\n}\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from 'components/App';\nimport { printStorageUsage } from 'lib/utils';\nimport './index.css';\n\nvoid printStorageUsage();\n\nReactDOM.render(<App />, document.querySelector('#root'));\n","/**\n * Base configuration object for Fuse.\n */\nexport const BASE_CONFIG = {\n  includeScore: true,\n  ignoreLocation: true,\n  minMatchCharLength: 2,\n  shouldSort: true,\n  threshold: 0\n};\n\n\n/**\n * Maximum 'score' a search result can have. Results with a higher score will\n * be filtered-out.\n *\n * N.B. With Fuse.js, a score of 0 represents a perfect match, and a score of 1\n * represents a result that did not match anything in the query.\n */\nexport const MAX_SCORE = 0.05;\n\n\n/**\n * Key used in our Map of searchers to reference the general-purpose Fuse\n * instance.\n */\nexport const GENERAL_SEARCHER = Symbol('GENERAL');\n\n\n/**\n * Matches a quoted attribute search expression. This format is used when the\n * query contains whitespace.\n *\n * Ex: `author:\"Frodo Baggins\"`\n */\nexport const QUOTED_EXPRESSION_PATTERN = /(?<attribute>[^\\s\":]+):\"(?<query>[^\":]+)\"/g;\n\n\n/**\n * Matches an unquoted attribute search expression.\n *\n * Ex: `tag:cute`\n */\nexport const UNQUOTED_EXPRESSION_PATTERN = /(?<attribute>[^\\s\":]+):(?<query>[^\\s\":]+)/g;\n","import bytes from 'bytes';\nimport * as R from 'ramda';\nimport { BOOTSTRAP_BREAKPOINTS, API_URL_PACKS_PING } from 'etc/constants';\n\n\n/**\n * Prints current storage usage and quotas to the console.\n */\nexport async function printStorageUsage() {\n  if (process.env.NODE_ENV === 'development') {\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    const storageEstimate = navigator.storage && await navigator.storage.estimate();\n\n    // The navigator.storage object is undefined when using private mode in\n    // Safari.\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (!storageEstimate) {\n      return;\n    }\n\n    // @ts-ignore (usageDetails is not typed correctly).\n    const idbUsage = storageEstimate?.usageDetails?.indexedDB;\n    const quota = storageEstimate.quota;\n\n    if (idbUsage && quota) {\n      const percentageUsed = (idbUsage / quota * 100).toFixed(2);\n      console.debug(`IndexedDB is currently using ${bytes(idbUsage)} of data, or ${percentageUsed}% of the ${bytes(quota)} quota.`);\n    }\n  }\n}\n\n\n/**\n * Bootstrap media query helper for CSS-in-JS.\n *\n * @example\n *\n * @media ${bp('sm')} {\n *   // ...\n * }\n */\nexport function bp(bpName: keyof typeof BOOTSTRAP_BREAKPOINTS, minMax: 'min' | 'max' = 'min') {\n  const bpValue = BOOTSTRAP_BREAKPOINTS[bpName];\n\n  if (bpValue === undefined) {\n    throw new Error(`Invalid breakpoint: ${bpName}`);\n  }\n\n  const value = minMax === 'min' ? bpValue : bpValue - 1;\n\n  return `(${minMax}-width: ${value}px)`;\n}\n\n\n/**\n * Used for analytics.\n */\nexport function sendPackBeacon(packId: string) {\n  if (process.env.NODE_ENV === 'production') {\n    try {\n      const beaconData = new Blob([`target=${packId}`], { type: 'application/x-www-form-urlencoded' });\n      navigator.sendBeacon(API_URL_PACKS_PING, beaconData);\n    } catch (err) {\n      console.log(`${err}. No worries, it's okay!`);\n    }\n  }\n}\n\n/**\n * Used for analytics.\n */\nexport function sendHomeBeacon() {\n  sendPackBeacon('home');\n}\n\n\n/**\n * Returns true if the provided error was thrown because the browser is blocking\n * use of local storage and/or other storage back-ends.\n */\nexport function isStorageUnavailableError(err: any) {\n  const patterns = [\n    // Firefox in private mode.\n    /the quota has been exceeded/gi\n  ];\n\n  if (err?.message) {\n    return Boolean(R.find(curPattern => R.test(curPattern, err.message), patterns));\n  }\n\n  return false;\n}\n","import * as R from 'ramda';\nimport React from 'react';\n\n\n// ----- Types -----------------------------------------------------------------\n\n/**\n * Type of the value provided by this Context: a custom hook function that\n * accepts a key and returns tuple with a value of type T and a setValue\n * function that accepts a value of type T.\n */\nexport type AppStateContext = <T = any>(key: string) => [\n  T | undefined,\n  React.Dispatch<React.SetStateAction<T>>\n];\n\n\n/**\n * The context's state is a map that mirrors key/value pairs in Local Storage.\n * We keep this in-memory mapping to avoid having to read from Local Storage on\n * each re-render.\n */\ninterface State {\n  [index: string]: any;\n}\n\n\n/**\n * Action type for our reducer.\n */\ninterface SetStateAction {\n  key: string;\n  value: any;\n}\n\n\n// ----- Initial State ---------------------------------------------------------\n\nconst initialState: State = {\n  darkMode: false\n};\n\n\n// ----- Context ---------------------------------------------------------------\n\nconst Context = React.createContext<AppStateContext>({} as any);\n\n\nexport const Provider = (props: React.PropsWithChildren<Record<string, unknown>>) => {\n  /**\n   * Initializes app state by iterating over each key in our initial state\n   * object and fetching the corresponding value from Local Storage.\n   */\n  const initializer = (initialState: State): State => {\n    return R.mapObjIndexed((initialValue, key) => {\n      try {\n        return JSON.parse(localStorage.getItem(key) ?? initialValue);\n      } catch {\n        // Local storage may be unavailable. Return the initial value.\n        return initialValue;\n      }\n    }, initialState);\n  };\n\n  /**\n   * Handles state updates by setting values in Local Storage.\n   */\n  const reducer = (state: State, action: SetStateAction): State => {\n    try {\n      localStorage.setItem(String(action.key), JSON.stringify(action.value));\n    } catch {\n      // Local storage may not be available due to private mode, etc.\n    }\n\n    return {...state, [action.key]: action.value};\n  };\n\n  const [state, dispatch] = React.useReducer(reducer, initialState, initializer);\n\n  // N.B. There seems to be a parsing error with TSX + arrow functions that use\n  // generic type parameters. Re-visit in the future.\n  // eslint-disable-next-line prefer-arrow/prefer-arrow-functions\n  function useAppState<T = any>(key: string) {\n    const setState: React.Dispatch<React.SetStateAction<T>> = (value: React.SetStateAction<T>) => {\n      dispatch({key, value});\n    };\n\n    return [state[key], setState] as any;\n  }\n\n  return (\n    <Context.Provider value={useAppState}>\n      {props.children}\n    </Context.Provider>\n  );\n};\n\n\nexport default Context;\n"],"sourceRoot":""}