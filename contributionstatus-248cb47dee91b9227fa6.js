(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{590:function(e,t,a){"use strict";a.r(t),function(e){var n,s=a(602),r=a(190),l=a(73),o=a(1),i=a.n(o),c=a(72),m=a(107);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const d=Object(l.a)("div")({name:"ContributionStatus",class:"cia71d5"}),b={signalArtUrl:""},p={signalArtUrl:e=>{if(!e)return"This field is required.";return new RegExp(m.h).exec(e)?void 0:"Invalid signal.art URL."}},g=()=>{const[e,t]=i.a.useState({error:"",pack_id:"",pack_title:"",status:"",status_comments:""}),a=i.a.useCallback((e,{setSubmitting:a})=>{const n=new RegExp(m.h).exec(e.signalArtUrl);if(!n)throw new Error("Unable to extract pack ID and pack key from signal.art URL.");const[,s,r]=n;fetch(m.e,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({pack_id:s,pack_key:r})}).then(async e=>e.json().then(t=>({data:t,status:e.status})).then(e=>{t(e.data),a(!1),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}))},[e]);return i.a.createElement(d,{className:"my-4 p-lg-3 px-lg-4"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("h1",{className:"mb-4"},"Contribution status"),i.a.createElement("p",{className:"mt-lg-3 mb-4"},"If you proposed a pack via the Contribute page, you can use this form to check the status of your contribution!"))),i.a.createElement("hr",{className:"pt-3 pb-2"}),e.error&&i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("p",{className:"mt-lg-3 mb-4"},i.a.createElement("b",null,"Oops!")," ",e.error))),e.status&&i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("p",{className:"mt-lg-3 mb-4"},"Your pack ",i.a.createElement("b",null,e.pack_title),"ONLINE"===e.status&&i.a.createElement(i.a.Fragment,null," is ",i.a.createElement("b",null,"published"),"! ",i.a.createElement(c.Link,{to:"/pack/"+e.pack_id},"Check it here.")),"IN_REVIEW"===e.status&&i.a.createElement(i.a.Fragment,null," is ",i.a.createElement("b",null,"still in review"),"! Real humans will soon check it."),"REFUSED"===e.status&&i.a.createElement(i.a.Fragment,null," has ",i.a.createElement("b",null,"not been published"),"."),e.status_comments&&i.a.createElement(i.a.Fragment,null," Moderators left a comment: ",i.a.createElement("em",null,e.status_comments))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 col-md-10 offset-md-1"},i.a.createElement(s.d,{initialValues:b,onSubmit:(e,{setErrors:t,setSubmitting:n})=>a(e,{setErrors:t,setSubmitting:n})},({errors:e,isValidating:t,isSubmitting:a})=>i.a.createElement(s.c,{noValidate:!0},i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"form-row"},i.a.createElement("label",{className:Object(r.a)("col-12",e.signalArtUrl&&"text-danger"),htmlFor:"signal-art-url"},"Signal.art URL:",i.a.createElement(s.b,{type:"text",id:"signal-art-url",name:"signalArtUrl",validate:p.signalArtUrl,className:Object(r.a)("form-control","mt-2",e.signalArtUrl&&"is-invalid"),placeholder:"https://signal.art/addstickers/#pack_id=<your pack id>&pack_key=<your pack key>"}),i.a.createElement("div",{className:"invalid-feedback"},i.a.createElement(s.a,{name:"signalArtUrl"}),"Â ")))),i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("button",{type:"submit",className:"btn btn-block btn-lg btn-primary",disabled:a||t},a?i.a.createElement("span",null,"Checking..."):i.a.createElement("span",null,"Check status"),a)))))))))};u(g,"useState{[packInfo, setPackInfo]({\n    error: '',\n    pack_id: '',\n    pack_title: '',\n    status: '',\n    status_comments: ''\n  })}\nuseCallback{onSubmit}");const k=g;var E,h;t.default=k,a(641),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(d,"ContributionStatus","/home/runner/work/signalstickers/signalstickers/src/components/contributionstatus/ContributionStatus.tsx"),E.register(b,"initialValues","/home/runner/work/signalstickers/signalstickers/src/components/contributionstatus/ContributionStatus.tsx"),E.register(p,"validators","/home/runner/work/signalstickers/signalstickers/src/components/contributionstatus/ContributionStatus.tsx"),E.register(g,"ContributionStatusComponent","/home/runner/work/signalstickers/signalstickers/src/components/contributionstatus/ContributionStatus.tsx"),E.register(k,"default","/home/runner/work/signalstickers/signalstickers/src/components/contributionstatus/ContributionStatus.tsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)}.call(this,a(27)(e))},641:function(e,t,a){"use strict";a.r(t)}}]);
//# sourceMappingURL=contributionstatus-248cb47dee91b9227fa6.js.map